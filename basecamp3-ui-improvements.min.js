!function(window,document,undefined){"use strict";if(window.BC&&window.BC.current){var $,jq,app;if(window.BC3HighlightMe&&window.BC3HighlightMe.highlightMe)return void window.BC3HighlightMe.highlightMe();app={me:window.BC.current.person,initDone:!1},app.highlightMe=function(){if(app.me.id){var $todos=app.getToDos();if(!$todos.length)return app.init("Hey, looks like you're task-free!");$todos.addClass("BC-highlight-me"),app.triggerEvent($todos),app.init("Found "+$todos.length+" tasks for you.")}},app.init=function(alertMsg){app.initDone||(alert(alertMsg),$("body").on("click","a",app.clickLink),app.addStyles(),app.initDone=!0)},app.addStyles=function(){var css="";css+='<style type="text/css" media="screen">',css+=".BC-highlight-me {",css+="background: #FFFF5C;",css+="border-radius: 15px;",css+="padding: 5px 8px 5px 10px !important;",css+="margin-left: -9px !important;",css+="margin-bottom: 7px;",css+="}",css+="</style>",$("head").append(css)},app.getToDos=function(){return $('[data-avatar-for-person-id="'+app.me.id+'"]').parents("li.todo")},app.clickLink=function(){setTimeout(function(){app.highlightMe()},1e3)},app.triggerEvent=function($todos){if($todos.length){var ids=$todos.parents(".todolist").map(function(){return $(this).data("recordingId")}).get();$("body").trigger("basecamp_tasks_highlighted",{type:"me",ids:ids})}},window.jQuery?($=window.jQuery,app.highlightMe()):(jq=document.createElement("script"),jq.src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js",document.getElementsByTagName("head")[0].appendChild(jq),setTimeout(function(){jQuery.noConflict(),$=window.jQuery,app.highlightMe()},500)),window.BC3HighlightMe=window.BC3HighlightMe||app}}(window,document),function(window,document,$,undefined){"use strict";if(window.BC&&window.BC.current){if(window.BCHighlightUser&&window.BCHighlightUser.init)return void window.BCHighlightUser.init();var app={search_name:"",initDone:!1};$.expr[":"].Contains=function(a,i,m){return $(a).text().toUpperCase().indexOf(m[3].toUpperCase())>=0},app.init=function(){app.search_name=prompt("Search Name:");var $search=app.highlightUser(),number=!1!==$search&&$search.length?$search.length:"No";alert(number+" tasks found for "+app.search_name+"."),app.triggerEvent($search),app.initDone||($("body").on("click","a",app.clickLink),app.addStyles()),app.initDone=!0},app.addStyles=function(){var css="";css+='<style type="text/css" media="screen">',css+=".BC-user-highlight {",css+="background: #A4FF5C;",css+="border-radius: 15px;",css+="padding: 5px 8px 5px 10px !important;",css+="margin-left: -9px !important;",css+="margin-bottom: 7px;",css+="}",css+="</style>",$("head").append(css)},app.highlightUser=function(){if(app.search_name){var $search=$(".todo_assignee .todo_assignee_name:Contains("+app.search_name+")");return $search.length?($(".BC-user-highlight").removeClass("BC-user-highlight"),$search.parents("li.todo").addClass("BC-user-highlight")):!1}},app.clickLink=function(){setTimeout(function(){app.highlightUser()},1e3)},app.triggerEvent=function($search){if($search.length){var ids=$search.parents(".todolist").map(function(){return this.id}).get();$("body").trigger("basecamp_tasks_highlighted",{type:"user",search:app.search_name,ids:ids})}},app.init(),window.BCHighlightUser=window.BCHighlightUser||app}}(window,document,jQuery),function(window,document,$,undefined){"use strict";if(window.BCMinifier&&window.BCMinifier.init)return void window.BCMinifier.addAllButtons();var app={upArrow:"&ShortUpArrow;",dwnArrow:"&ShortDownArrow;",autoHide:!0};app.init=function(){$("body").on("click",".minifier.minify-all",app.toggleAllLists).on("click",".minifier.minify-lists",app.toggleList).on("click","a",app.clickLink).on("basecamp_tasks_highlighted",app.maybeShowOnHighlight),app.addStyles(),app.addAllButtons()},app.addStyles=function(){var css="";css+='<style type="text/css" media="screen">',css+=".minifier.minify-lists, .minify-all-icon {",css+="top: .05em;",css+="cursor: pointer;",css+="background: #3cb371;",css+="padding: 1px 6px;",css+="border-radius: 30px;",css+="color: #ffffff;",css+="font-size: 1.5em;",css+="display: inline-block;",css+="margin-left: 6px;",css+="position: relative;",css+="width: 1.2em;",css+="height: 1.2em;",css+="line-height: 1em;",css+="text-align: center;",css+="}",css+=".minifier.minify-lists {",css+="position: absolute;",css+="right: 0;",css+="}",css+=".minifier.minify-all {",css+="display: inline-block;",css+="margin-left: 10px;",css+="cursor: pointer;",css+="}",css+="</style>",$("head").append(css)},app.addAllButtons=function(){app.addAllButton(),$(".many_lists .todolist").each(app.addButtons),app.autoHide&&setTimeout(function(){$(".minifier.minify-all").trigger("click")},100)},app.addAllButton=function(){var $btn=$('.action_button.primary[data-behavior="expand_new_todolist"]');if(!$btn.next(".minifier").length){var html='<div class="minifier minify-all" title="Minify All"><span class="minify-all-text">Minify All</span><span class="minify-all-icon">'+app.upArrow+"</span></div>";$btn.after(html)}},app.addButtons=function(){var $this=$(this),id=$this.attr("id");if(id&&undefined!==typeof id&&!($this.find(".minifier").length>0)){var html='<div class="minifier minify-lists" title="Minify List" data-selector="'+id+'">'+app.upArrow+"</div>";$this.css({position:"relative"}).append(html)}},app.toggleList=function(evt,state){function open(){$items.show(),$button.data("hidden",!1).html(app.upArrow).attr("title","Minify List")}function close(){$items.hide(),$button.data("hidden",!0).html(app.dwnArrow).attr("title","Expand List")}var $button=evt instanceof jQuery?evt:$(this),$list=$(document.getElementById($button.data("selector"))),$items=$list.find("ul.todos.remaining, ul.todos.completed");return"close"===state?close():$button.data("hidden")||"open"===state?open():void close()},app.toggleAllLists=function(){var $all_button=$(this),closeIt=!$all_button.data("hidden");$(".minifier.minify-lists").each(function(){app.toggleList($(this),closeIt?"close":"open")});var html=closeIt?app.dwnArrow:app.upArrow,title=closeIt?"Expand All":"Minify All";$all_button.data("hidden",closeIt).attr("title",title),$all_button.find(".minify-all-text").html(title),$all_button.find(".minify-all-icon").html(html)},app.clickLink=function(){setTimeout(function(){$(".minifier").length||(app.addAllButtons(),setTimeout(app.clickLink,200))},1e3)},app.maybeShowOnHighlight=function(evt,data){var index,ids=data.ids;for(index=ids.length-1;index>=0;index--){var $button=$('[data-selector="sortable_'+ids[index]+'"]');$button.length&&$button.data("hidden")&&$button.trigger("click")}},app.init(),window.BCMinifier=window.BCMinifier||app}(window,document,jQuery);