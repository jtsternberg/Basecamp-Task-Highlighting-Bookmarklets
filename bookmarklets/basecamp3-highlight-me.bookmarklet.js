javascript:(function(window,%20document,%20$,%20undefined){%27use%20strict%27;var%20app;if%20(%20window.BC3HighlightMe%20&&%20window.BC3HighlightMe.highlightMe%20)%20{return%20window.BC3HighlightMe.init();}var%20getEl%20=%20function(%20id%20)%20{return%20document.getElementById(%20id%20);};var%20$id%20=%20function(%20id%20)%20{return%20$(%20getEl(%20id%20)%20);};app%20=%20{me%20:%20$(%20%27[name=%22current-person-id%22]%27%20).attr(%20%27content%27%20),highlighted%20:%20null};app.unHighLight%20=%20function()%20{$id(%20%27bc-highlight-me%27%20).text(%20%27Highlight%20My%20Tasks%27%20);$(%20%27.BC-highlight-me%27%20).removeClass(%20%27BC-highlight-me%27%20);app.highlighted%20=%20false;};app.doHighlight%20=%20function()%20{var%20$todos%20=%20app.getToDos();$id(%20%27bc-highlight-me%27%20).text(%20%27Unhighlight%20My%20Tasks%27%20);if%20(%20$todos.length%20)%20{$todos.addClass(%20%27BC-highlight-me%27%20);}app.triggerEvent(%20$todos%20);app.highlighted%20=%20true;return%20$todos;};app.highlightMe%20=%20function(%20clicked%20)%20{if%20(%20!%20app.me%20||%20(%20!%20clicked%20&&%20null%20===%20app.highlighted%20)%20)%20{return;}app.maybeAddButton();if%20(%20app.highlighted%20&&%20clicked%20)%20{return%20app.unHighLight();}if%20(%20!%20app.highlighted%20&&%20clicked%20)%20{var%20$todos%20=%20app.doHighlight();if%20(%20!%20$todos.length%20)%20{window.alert(%20%27Hey,%20looks%20like%20you\%27re%20task-free!%27%20);}%20else%20{window.alert(%20%27Found%20%27+%20$todos.length%20+%27%20tasks%20for%20you.%27%20);}}};app.init%20=%20function()%20{app.addStyles();app.maybeAddButton();};app.addStyles%20=%20function()%20{if%20(%20!%20getEl(%20%27bc-highlight-me-styles%27%20)%20)%20{var%20css%20=%20%27%27;css%20+=%20%27<style%20id=%22bc-highlight-me-styles%22%20type=%22text/css%22%20media=%22screen%22>%27;css%20+=%20%27.BC-highlight-me%20{%27;css%20+=%20%27background:%20rgba(255,%20255,%2092,%200.4);%27;css%20+=%20%27border-radius:%2015px;%27;css%20+=%20%27padding:%205px%208px%205px%2010px%20!important;%27;css%20+=%20%27margin-left:%20-10px%20!important;%27;css%20+=%20%27margin-bottom:%207px;%27;css%20+=%20%27}%27;css%20+=%20%27#bc-highlight-me%20{%27;css%20+=%20%27margin-right:%205px%27;css%20+=%20%27}%27;css%20+=%20%27</style>%27;$(%20%27head%27%20).append(%20css%20);}};app.maybeAddButton%20=%20function()%20{if%20(%20!%20getEl(%20%27bc-highlight-me%27%20)%20)%20{var%20$toolbar%20=%20$(%20%27.perma-toolbar%27%20);var%20$btn%20=%20$toolbar.find(%20%27[data-bridge-action-type=%22bookmark%22]%27%20);var%20classes%20=%20$btn.attr(%20%27class%27%20).replace(%20new%20RegExp(%20%27bookmark%27,%20%27g%27%20),%20%27highlight-me%27%20);$btn.before(%20%27<button%20id=%22bc-highlight-me%22%20type=%22button%22%20class=%22%27+%20classes%20+%27%22></button>%27);if%20(%20!%20app.highlighted%20)%20{app.unHighLight();}%20else%20{app.doHighlight();}$(%20document.body%20).on(%20%27click%27,%20%27#bc-highlight-me%27,%20app.highlightMe%20);}};app.getToDos%20=%20function()%20{return%20$(%20%27[data-avatar-for-person-id=%22%27+%20app.me%20+%27%22]%27%20).parents(%20%27li.todo%27%20);};app.triggerEvent%20=%20function(%20$todos%20)%20{if%20(%20$todos.length%20)%20{var%20ids%20=%20$todos.parents(%20%27.todolist%27%20).map(%20function()%20{%20return%20$(%20this%20).data(%20%27recordingId%27%20);%20}%20).get();$(%20%27body%27%20).trigger(%20%27basecamp_tasks_highlighted%27,%20{%20%27type%27%20:%20%27me%27,%20%27ids%27%20:%20ids%20}%20);}};app.init();app.interval%20=%20app.interval%20||%20window.setInterval(%20app.init,%201500%20);window.BC3HighlightMe%20=%20window.BC3HighlightMe%20||%20app;})(window,%20document,%20jQuery);